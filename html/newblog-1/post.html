<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>美化WordPress插入到文章中的相册 &#8211; 设计笔记</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="animate.min.css">
</head>

<body>
    <!-- Header -->
    <div class="section intro post">
        <div class="header-tools" style="height: 0;">
            <div class="container">
                <div id="toolsIcon"><a href="http://127.0.0.1:88/nb/">&lArr;</a></div>
            </div>
        </div>

        <div class="container">
            <div class="header-gist">
                <h1 class="fullname">美化WordPress插入到文章中的相册</h1>
            </div>
            <div class="header-info">
                <p class="statistics">COMMENT <strong>44</strong> LIKES <strong>66</strong> TIMES <strong>2016-12-15</strong></p>
            </div>
        </div>
    </div>

    <!-- Content -->
    <div class="section content">
        <div class="container">
            <article class="post_article" itemscope="" itemtype="http://schema.org/BlogPosting" data-no-instant="">
                <p>不晓得哪个版本开始，WordPress在添加媒体入口里加入了“创建相册”功能，就是可以把你已上传的图片选择N个创建成相册，并且可以把相册插入到文章当中，对于某些多图的文章，使用这个功能让文章显得漂亮工整。</p>
                <p>但是某些自己制作的主题并无法愉快的使用它，首先，插入的使用缩略图基本上要正方形的，如果之前上传的图片没有裁剪成正方形，那就有点难办了；其次，大大小小的图片有正方形有长方形的，另文章显得极其不规整，怎样让图片简单轻松无痛又漂亮的显示在文章页呢？</p>
                <h3>先看最终效果</h3>
                <p>每行2个：</p>

                <style type="text/css">
			#gallery-1 {
				margin: auto;
			}
			#gallery-1 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 50%;
			}
			#gallery-1 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-1 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
<div id="gallery-1" class="gallery galleryid-4657 gallery-columns-2 gallery-size-large">
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-31-38.png?imageView2/0/format/webp"><img width="1024" height="680" src="https://biji.io/wp-content/uploads/2016-04-04-00-31-38-1024x680.png?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-31-38-1024x680.png?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/2016-04-04-00-31-38-150x100.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-31-38-300x199.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-31-38-768x510.png?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/dDZSL6Avpi.jpg?imageView2/0/format/webp"><img width="1024" height="681" src="https://biji.io/wp-content/uploads/dDZSL6Avpi-1024x681.jpg?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/dDZSL6Avpi-1024x681.jpg?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/dDZSL6Avpi-150x100.jpg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/dDZSL6Avpi-300x200.jpg?imageView2/0/format/webp 300w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <br style="clear: both">
</div>

<p>每行3个：</p>

<style type="text/css">
			#gallery-2 {
				margin: auto;
			}
			#gallery-2 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 33%;
			}
			#gallery-2 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-2 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
<div id="gallery-2" class="gallery galleryid-4657 gallery-columns-3 gallery-size-large">
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464.jpeg?imageView2/0/format/webp"><img width="1024" height="683" src="https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464-1024x683.jpeg?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464-1024x683.jpeg?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464-150x100.jpeg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464-300x200.jpeg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/photo-1431578500526-4d9613015464-768x512.jpeg?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0.jpeg?imageView2/0/format/webp"><img width="1024" height="680" src="https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0-1024x680.jpeg?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0-1024x680.jpeg?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0-150x100.jpeg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0-300x199.jpeg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/photo-1423683249427-8ca22bd873e0-768x510.jpeg?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093.jpg?imageView2/0/format/webp"><img width="1024" height="683" src="https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093-1024x683.jpg?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093-1024x683.jpg?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093-150x100.jpg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093-300x200.jpg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/c6037eeab6141606bbf7e2e45a4ec093-768x512.jpg?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <br style="clear: both">
</div>

<p>每行4个：</p>

<style type="text/css">
			#gallery-3 {
				margin: auto;
			}
			#gallery-3 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 25%;
			}
			#gallery-3 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-3 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
<div id="gallery-3" class="gallery galleryid-4657 gallery-columns-4 gallery-size-large">
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-23-49.png?imageView2/0/format/webp"><img width="1024" height="683" src="https://biji.io/wp-content/uploads/2016-04-04-00-23-49-1024x683.png?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-23-49-1024x683.png?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/2016-04-04-00-23-49-150x100.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-23-49-300x200.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-23-49-768x512.png?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-23-38.png?imageView2/0/format/webp"><img width="1024" height="683" src="https://biji.io/wp-content/uploads/2016-04-04-00-23-38-1024x683.png?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-23-38-1024x683.png?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/2016-04-04-00-23-38-150x100.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-23-38-300x200.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-23-38-768x512.png?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-34-07.png?imageView2/0/format/webp"><img width="1024" height="599" src="https://biji.io/wp-content/uploads/2016-04-04-00-34-07-1024x599.png?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-34-07-1024x599.png?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/2016-04-04-00-34-07-150x88.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-34-07-300x175.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-34-07-768x449.png?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-18-11.png?imageView2/0/format/webp"><img width="1024" height="683" src="https://biji.io/wp-content/uploads/2016-04-04-00-18-11-1024x683.png?imageView2/0/format/webp"
                    class="attachment-large size-large" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-18-11-1024x683.png?imageView2/0/format/webp 1024w, https://biji.io/wp-content/uploads/2016-04-04-00-18-11-150x100.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-18-11-300x200.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-18-11-768x512.png?imageView2/0/format/webp 768w"
                    sizes="(max-width: 1024px) 100vw, 1024px"></a>
        </dt>
    </dl>
    <br style="clear: both">
</div>

<p>每行5个：</p>

<style type="text/css">
			#gallery-4 {
				margin: auto;
			}
			#gallery-4 .gallery-item {
				float: left;
				margin-top: 10px;
				text-align: center;
				width: 20%;
			}
			#gallery-4 img {
				border: 2px solid #cfcfcf;
			}
			#gallery-4 .gallery-caption {
				margin-left: 0;
			}
			/* see gallery_shortcode() in wp-includes/media.php */
		</style>
<div id="gallery-4" class="gallery galleryid-4657 gallery-columns-5 gallery-size-medium">
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4.jpeg?imageView2/0/format/webp"><img width="300" height="200" src="https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4-300x200.jpeg?imageView2/0/format/webp"
                    class="attachment-medium size-medium" alt="" srcset="https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4-300x200.jpeg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4-150x100.jpeg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4-768x512.jpeg?imageView2/0/format/webp 768w, https://biji.io/wp-content/uploads/photo-1438978280647-f359d95ebda4-1024x683.jpeg?imageView2/0/format/webp 1024w"
                    sizes="(max-width: 300px) 100vw, 300px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775.jpeg?imageView2/0/format/webp"><img width="300" height="200" src="https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775-300x200.jpeg?imageView2/0/format/webp"
                    class="attachment-medium size-medium" alt="" srcset="https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775-300x200.jpeg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775-150x100.jpeg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775-768x512.jpeg?imageView2/0/format/webp 768w, https://biji.io/wp-content/uploads/photo-1429041966141-44d228a42775-1024x683.jpeg?imageView2/0/format/webp 1024w"
                    sizes="(max-width: 300px) 100vw, 300px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49.jpg?imageView2/0/format/webp"><img width="300" height="200" src="https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49-300x200.jpg?imageView2/0/format/webp"
                    class="attachment-medium size-medium" alt="" srcset="https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49-300x200.jpg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49-150x100.jpg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49-768x512.jpg?imageView2/0/format/webp 768w, https://biji.io/wp-content/uploads/c05a4354ca887592d52bcc1acc861a49-1024x683.jpg?imageView2/0/format/webp 1024w"
                    sizes="(max-width: 300px) 100vw, 300px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/2016-04-04-00-34-36.png?imageView2/0/format/webp"><img width="300" height="200" src="https://biji.io/wp-content/uploads/2016-04-04-00-34-36-300x200.png?imageView2/0/format/webp"
                    class="attachment-medium size-medium" alt="" srcset="https://biji.io/wp-content/uploads/2016-04-04-00-34-36-300x200.png?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/2016-04-04-00-34-36-150x100.png?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/2016-04-04-00-34-36-768x512.png?imageView2/0/format/webp 768w, https://biji.io/wp-content/uploads/2016-04-04-00-34-36-1024x683.png?imageView2/0/format/webp 1024w"
                    sizes="(max-width: 300px) 100vw, 300px"></a>
        </dt>
    </dl>
    <dl class="gallery-item">
        <dt class="gallery-icon landscape">
            <a href="https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7.jpg?imageView2/0/format/webp"><img width="300" height="200" src="https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7-300x200.jpg?imageView2/0/format/webp"
                    class="attachment-medium size-medium" alt="" srcset="https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7-300x200.jpg?imageView2/0/format/webp 300w, https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7-150x100.jpg?imageView2/0/format/webp 150w, https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7-768x512.jpg?imageView2/0/format/webp 768w, https://biji.io/wp-content/uploads/70331d74c1081f237998cd29d398e5d7-1024x683.jpg?imageView2/0/format/webp 1024w"
                    sizes="(max-width: 300px) 100vw, 300px"></a>
        </dt>
    </dl>
    <br style="clear: both">
</div>

<p>还有更多就不演示了，回头自己试一下即可。</p>
<h3>原理解释：</h3>
<p><img class="alignnone size-full wp-image-4663" src="https://biji.io/wp-content/uploads/img_list.png?imageView2/0/format/webp"
        alt="" width="891" height="471" srcset="https://biji.io/wp-content/uploads/img_list.png?imageView2/0/format/webp 891w, https://biji.io/wp-content/uploads/img_list-768x406.png?imageView2/0/format/webp 768w"
        sizes="(max-width: 891px) 100vw, 891px"></p>
<p>基本原理图如上，红色为图片原始比例，黄色为图片显示区域，超出部分隐藏，看似很简单，是实际上会稍微繁琐一些，因为图片始终无法合理的居中显示在黄色区域，好在CSS3给力</p>
<p>利用CSS3的translate()，WP的插入相册的DOM结构刚好够用，直接贴CSS吧</p>
<pre><code class="prettyprint prettyprinted"><span class="pun">.</span><span class="pln">gallery</span><span class="pun">{</span><span class="pln">
 margin</span><span class="pun">:-</span><span class="lit">1</span><span class="pun">%!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item </span><span class="pun">{</span><span class="pln">
 padding</span><span class="pun">:</span><span class="lit">1</span><span class="pun">%;</span><span class="pln">
 </span><span class="com">/* width:14.66666%!important; */</span><span class="pln">
 margin</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
 overflow</span><span class="pun">:</span><span class="pln">hidden</span><span class="pun">;</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln">relative</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">columns</span><span class="pun">-</span><span class="lit">3</span><span class="pln"> </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item</span><span class="pun">{</span><span class="pln">
 width</span><span class="pun">:</span><span class="lit">33.3333333</span><span class="pun">%!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item dt</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
 content</span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
 display</span><span class="pun">:</span><span class="pln"> block</span><span class="pun">;</span><span class="pln">
 padding</span><span class="pun">-</span><span class="pln">top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">100</span><span class="pun">%;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item dt </span><span class="pun">{</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln"> relative</span><span class="pun">;</span><span class="pln">
 box</span><span class="pun">-</span><span class="pln">shadow</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="lit">1px</span><span class="pln"> rgba</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,.</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> inset</span><span class="pun">;</span><span class="pln">
 background</span><span class="pun">:</span><span class="pln"> </span><span class="com">#eee;</span><span class="pln">
 cursor</span><span class="pun">:</span><span class="pln"> pointer</span><span class="pun">;</span><span class="pln">
 overflow</span><span class="pun">:</span><span class="pln"> hidden</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item a </span><span class="pun">{</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln"> absolute</span><span class="pun">;</span><span class="pln">
 top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 right</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 bottom</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 opacity</span><span class="pun">:</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln">
 </span><span class="pun">-</span><span class="pln">webkit</span><span class="pun">-</span><span class="pln">transition</span><span class="pun">:</span><span class="pln"> opacity </span><span class="pun">.</span><span class="lit">1s</span><span class="pun">;</span><span class="pln">
 transition</span><span class="pun">:</span><span class="pln"> opacity </span><span class="pun">.</span><span class="lit">1s</span><span class="pun">;</span><span class="pln">
 transform</span><span class="pun">:</span><span class="pln"> translate</span><span class="pun">(</span><span class="lit">50</span><span class="pun">%,</span><span class="lit">50</span><span class="pun">%);</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item img</span><span class="pun">{</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln">absolute</span><span class="pun">;</span><span class="pln">
 top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 max</span><span class="pun">-</span><span class="pln">height</span><span class="pun">:</span><span class="lit">100</span><span class="pun">%;</span><span class="pln">
 max</span><span class="pun">-</span><span class="pln">width</span><span class="pun">:</span><span class="pln">none</span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
 width</span><span class="pun">:</span><span class="kwd">auto</span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
 border</span><span class="pun">:</span><span class="lit">0</span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
 transform</span><span class="pun">:</span><span class="pln"> translate</span><span class="pun">(-</span><span class="lit">50</span><span class="pun">%,-</span><span class="lit">50</span><span class="pun">%);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>核心CSS如上，根据主题不同请自行调整。</p>
<h3>兼容性</h3>
<p>此方法
    <span style="color: #ff0000;">兼容IE8</span>及以上，IE8不支持居中单不会拉伸图片（效果依然不错）</p>
<hr>
<p>PS: 2016年12月16日 补充</p>
<p>感谢 秋空 提供的CSS3新属性：<code class="prettyprint prettyprinted"><span class="kwd">object</span><span class="pun">-</span><span class="pln">fit</span></code></p>
<p>新属性更加简单粗暴，仅居中代码从12行左右缩短到了3行（完美）</p>
<h3>新属性代码如下：</h3>
<pre><code class="prettyprint prettyprinted"><span class="pun">.</span><span class="pln">gallery</span><span class="pun">{</span><span class="pln">
 margin</span><span class="pun">:-</span><span class="lit">1</span><span class="pun">%!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item </span><span class="pun">{</span><span class="pln">
 padding</span><span class="pun">:</span><span class="lit">1</span><span class="pun">%;</span><span class="pln">
 </span><span class="com">/* width:14.66666%!important; */</span><span class="pln">
 margin</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
 overflow</span><span class="pun">:</span><span class="pln">hidden</span><span class="pun">;</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln">relative</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">columns</span><span class="pun">-</span><span class="lit">3</span><span class="pln"> </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item</span><span class="pun">{</span><span class="pln">
 width</span><span class="pun">:</span><span class="lit">33.3333333</span><span class="pun">%!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item dt</span><span class="pun">:</span><span class="pln">before </span><span class="pun">{</span><span class="pln">
 content</span><span class="pun">:</span><span class="pln"> </span><span class="str">""</span><span class="pun">;</span><span class="pln">
 display</span><span class="pun">:</span><span class="pln"> block</span><span class="pun">;</span><span class="pln">
 padding</span><span class="pun">-</span><span class="pln">top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">100</span><span class="pun">%;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item dt </span><span class="pun">{</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln"> relative</span><span class="pun">;</span><span class="pln">
 box</span><span class="pun">-</span><span class="pln">shadow</span><span class="pun">:</span><span class="lit">0</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="lit">0</span><span class="pln"> </span><span class="lit">1px</span><span class="pln"> rgba</span><span class="pun">(</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,</span><span class="lit">0</span><span class="pun">,.</span><span class="lit">1</span><span class="pun">)</span><span class="pln"> inset</span><span class="pun">;</span><span class="pln">
 background</span><span class="pun">:</span><span class="pln"> </span><span class="com">#eee;</span><span class="pln">
 cursor</span><span class="pun">:</span><span class="pln"> pointer</span><span class="pun">;</span><span class="pln">
 overflow</span><span class="pun">:</span><span class="pln"> hidden</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span><span class="pln">
</span><span class="pun">.</span><span class="pln">gallery </span><span class="pun">.</span><span class="pln">gallery</span><span class="pun">-</span><span class="pln">item img</span><span class="pun">{</span><span class="pln">
 position</span><span class="pun">:</span><span class="pln">absolute</span><span class="pun">;</span><span class="pln">
 top</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 left</span><span class="pun">:</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln">
 height</span><span class="pun">:</span><span class="lit">100</span><span class="pun">%;</span><span class="pln">
 width</span><span class="pun">:</span><span class="lit">100</span><span class="pun">%;</span><span class="pln">
 </span><span class="kwd">object</span><span class="pun">-</span><span class="pln">fit</span><span class="pun">:</span><span class="pln">cover</span><span class="pun">;</span><span class="pln">
 border</span><span class="pun">:</span><span class="lit">0</span><span class="pun">!</span><span class="pln">important</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<h3>新属性兼容性</h3>
<p>PC：兼容绝大部分现代主流浏览器（webkit内核、firefox），
    <span style="color: #ff0000;">不支持IE</span>
</p>
<p>Mobile：Safari、Android4.4.4+（国内ROM上Android5.x兼容不同）</p>
</article>
</div>
</div>

<!-- Comments -->
<div class="section comments">
    <div class="container">
        <div class="is_comments" data-no-instant="">

            <!-- You can start editing here. -->

            <h3 id="comments">
                44条回应：“美化WordPress插入到文章中的相册” </h3>

            <div class="navigation" style="display: none;">
<div class="alignleft"><a href="https://biji.io/2016/4657.html/comment-page-3#comments">« 先前评论</a></div>
<div class="alignright"></div>
</div>

<ol class="commentlist">
    <li class="comment even thread-even depth-1" id="comment-13552">
        <div id="div-comment-13552" class="comment-body">
            <div class="comment-author vcard">
                <img alt="" src="https://biji.io/wp-content/uploads/gravatar/1ef8ea98d928124c6f6394932155e5ef-s120.jpg?imageView2/0/format/webp"
                    class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="https://www.byspace.net" rel="external nofollow" class="url">山野愚人居</a></cite>
                <span class="says">说道：</span>
            </div>

            <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13552">
			2017-01-07 12:27</a> </div>

            <p>没用过相册功能，我附件都是二级域名单独存储的，直接URL引用的！</p>

            <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13552#respond" onclick="return addComment.moveForm( &quot;div-comment-13552&quot;, &quot;13552&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给山野愚人居">回复</a>
</div>
</div>
</li>
<!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1" id="comment-13545">
    <div id="div-comment-13545" class="comment-body">
        <div class="comment-author vcard">
            <img alt="" src="https://biji.io/wp-content/uploads/gravatar/5c46394bceffc379694f721083b5a131-s120.jpg?imageView2/0/format/webp"
                class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="http://mrju.cn" rel="external nofollow" class="url">旧梦-mrju.cn</a></cite>
            <span class="says">说道：</span>
        </div>

        <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13545">
			2017-01-05 09:33</a> </div>

        <p>每天都来博主的博客里，发现今天变单栏了。另外求个友链，不知道还有位置不。</p>

        <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13545#respond" onclick="return addComment.moveForm( &quot;div-comment-13545&quot;, &quot;13545&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给旧梦-mrju.cn">回复</a>
</div>
</div>
</li>
<!-- #comment-## -->
<li class="comment even thread-even depth-1 parent" id="comment-13541">
    <div id="div-comment-13541" class="comment-body">
        <div class="comment-author vcard">
            <img alt="" src="https://biji.io/wp-content/uploads/gravatar/332a280c141a9dec22e6f64dd8d1684f-s120.jpg?imageView2/0/format/webp"
                class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="http://itlu.org" rel="external nofollow" class="url">灰狼</a></cite>
            <span class="says">说道：</span>
        </div>

        <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13541">
			2017-01-04 10:21</a> </div>

        <p>还能再慢点吗？</p>

        <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13541#respond" onclick="return addComment.moveForm( &quot;div-comment-13541&quot;, &quot;13541&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给灰狼">回复</a>
</div>
</div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor odd alt depth-2 parent" id="comment-13542">
        <div id="div-comment-13542" class="comment-body">
            <div class="comment-author vcard">
                <img alt="" src="https://biji.io/wp-content/uploads/gravatar/dc5017d33cd25c13423f18651a15615e-s120.jpg?imageView2/0/format/webp"
                    class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="https://biji.io" rel="external nofollow" class="url">Tokin</a></cite>
                <span class="says">说道：</span>
            </div>

            <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13542">
			2017-01-04 13:58</a> </div>

            <p>@<a href="#comment-13541">灰狼</a> 搞到问题了，是头像缓存插件没正确缓存头像，导致每次加载页面都要重新请求所有头像。。。不慢才怪。。。</p>

            <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13542#respond" onclick="return addComment.moveForm( &quot;div-comment-13542&quot;, &quot;13542&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给Tokin">回复</a>
</div>
</div>
<ul class="children">
    <li class="comment even depth-3" id="comment-13546">
        <div id="div-comment-13546" class="comment-body">
            <div class="comment-author vcard">
                <img alt="" src="https://biji.io/wp-content/uploads/gravatar/5c46394bceffc379694f721083b5a131-s120.jpg?imageView2/0/format/webp"
                    class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="http://mrju.cn" rel="external nofollow" class="url">旧梦-mrju.cn</a></cite>
                <span class="says">说道：</span>
            </div>

            <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13546">
			2017-01-05 09:34</a> </div>

            <p>@<a href="#comment-13542">Tokin</a> 最近确实发现很慢，刚才评论提交了好久，我以为没点到提交按钮，多点了几遍按钮。</p>

            <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13546#respond" onclick="return addComment.moveForm( &quot;div-comment-13546&quot;, &quot;13546&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给旧梦-mrju.cn">回复</a>
</div>
</div>
</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
<li class="comment odd alt thread-odd thread-alt depth-1 parent" id="comment-13518">
    <div id="div-comment-13518" class="comment-body">
        <div class="comment-author vcard">
            <img alt="" src="https://biji.io/wp-content/uploads/gravatar/d250376439af3e35ecbe30e1bb6e2d5f-s120.jpg?imageView2/0/format/webp"
                class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="http://www.newpm.net" rel="external nofollow" class="url">newpm</a></cite>
            <span class="says">说道：</span>
        </div>

        <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13518">
			2017-01-01 14:40</a> </div>

        <p>默默的秀一下基情，最近访问速度有点慢啦:)</p>

        <div class="reply">
            <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13518#respond" onclick="return addComment.moveForm( &quot;div-comment-13518&quot;, &quot;13518&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给newpm">回复</a>
</div>
</div>
<ul class="children">
    <li class="comment byuser comment-author-admin bypostauthor even depth-2" id="comment-13522">
        <div id="div-comment-13522" class="comment-body">
            <div class="comment-author vcard">
                <img alt="" src="https://biji.io/wp-content/uploads/gravatar/dc5017d33cd25c13423f18651a15615e-s120.jpg?imageView2/0/format/webp"
                    class="avatar avatar-120" width="120" height="120"> <cite class="fn"><a href="https://biji.io" rel="external nofollow" class="url">Tokin</a></cite>
                <span class="says">说道：</span>
            </div>

            <div class="comment-meta commentmetadata"><a href="https://biji.io/2016/4657.html/comment-page-4#comment-13522">
			2017-01-01 16:18</a> </div>

            <p>@<a href="#comment-13518">newpm</a> 刚搬到一个香港主机，没想到速度这么慢，今天搬走</p>

            <div class="reply">
                <a rel="nofollow" class="comment-reply-link" href="https://biji.io/2016/4657.html?replytocom=13522#respond" onclick="return addComment.moveForm( &quot;div-comment-13522&quot;, &quot;13522&quot;, &quot;respond&quot;, &quot;4657&quot; )" aria-label="回复给Tokin">回复</a>
</div>
</div>
</li>
<!-- #comment-## -->
</ul>
<!-- .children -->
</li>
<!-- #comment-## -->
</ol>

<div class="navigation">
    <div class="alignleft"><a href="https://biji.io/2016/4657.html/comment-page-2#comments">« 先前评论</a></div>
    <div class="alignright"><a href="https://biji.io/2016/4657.html#comments">较新评论 »</a></div>
</div>

<div id="respond" class="comment-respond">
    <h3 id="reply-title" class="comment-reply-title">发表评论 <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2016/4657.html#respond" style="display:none;">取消回复</a>
</small>
</h3>
<form action="https://biji.io/wp-comments-post.php" method="post" id="commentform" class="comment-form">
    <p class="comment-notes"><span id="email-notes">电子邮件地址不会被公开。</span> 必填项已用<span class="required">*</span>标注</p>
    <p class="comment-form-author"><label for="author">姓名 <span class="required">*</span></label> <input id="author" name="author" type="text" value=""
            size="30" maxlength="245" aria-required="true" required="required"></p>
    <p class="comment-form-email"><label for="email">电子邮件 <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30"
            maxlength="100" aria-describedby="email-notes" aria-required="true" required="required"></p>
    <p class="comment-form-url"><label for="url">站点</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
    <p class="comment-form-comment"><label for="comment">评论</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" aria-required="true"
            required="required"></textarea>
        <div id="loading" style="display: none;">正在提交...</div>
<div id="error" style="display: none;">#</div>
</p>
<p class="comment-form-smilies">
    <a class="add-smily" data-action="addSmily" data-smilies=":mrgreen:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_mrgreen.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":neutral:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_neutral.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":twisted:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_twisted.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":arrow:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_arrow.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":shock:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_eek.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":smile:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_smile.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":???:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_confused.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":cool:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_cool.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":evil:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_evil.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":grin:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_biggrin.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":idea:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_idea.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":oops:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_redface.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":razz:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_razz.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":roll:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_rolleyes.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":wink:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_wink.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":cry:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_cry.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":eek:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_surprised.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":lol:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_lol.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":mad:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_mad.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":sad:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_sad.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":!:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_exclaim.gif?imageView2/0/format/webp"></a>
    <a class="add-smily" data-action="addSmily" data-smilies=":?:"><img class="wp-smiley" src="https://biji.io/wp-content/plugins/wp-alu-master/static/img/icon_question.gif?imageView2/0/format/webp"></a>
</p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="发表评论"> <input type="hidden" name="comment_post_ID" value="4657"
        id="comment_post_ID">
    <input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
</form>
</div>
<!-- #respond -->
</div>
</div>
</div>

<div class="footer">
    <div class="section">
        <div class="container">
            <div class="user-gist">
                <div class="icon-symbol"></div>
                <h3 class="fullname">Tokin</h3>
                <p class="designation">http://biji.io</p>
            </div>
        </div>
    </div>
    <div class="colophon">
        <div class="container">
            <div class="copyright">&copy; 2017 设计笔记 . 闽ICP备15006056号-1</div>
            <ul class="social-links">
                <li><a href="#" target="_blank">关于博主</a></li>
                <li><a href="#" target="_blank">友情链接</a></li>
                <li><a href="#" target="_blank">榜上有名</a></li>
            </ul>
        </div>
    </div>
</div>

</body>

</html>